INSTRUCTIONS
===================================
1) to activate fancy tooltips in Exhibit Builder, go to overwriteInExhibitBuilder/ExhibitFunctions.php and move file to plugin dir (OPTIONAL)
2) add the following to Exhibit Builder plugin.php (REQUIRED)
===================================

// via @clioweb, https://gist.github.com/1007255

// Hook the 'filter_items_by_exhibit' into the Items SQL.
add_plugin_hook('item_browse_sql', 'filter_items_by_exhibit');

/**
* Filters the 'item_browse_sql' select to return items in a given
* Exhibit. Checks for the existence of a parameter called 'exhibit'
* with a value of either an Exhibit object or Exhibit ID.
*/
function filter_items_by_exhibit($select, $params)
{
    $db = get_db();
    if ($exhibit = $params['exhibit']) {
        $select->joinInner(
            array('isp' => $db->ExhibitPageEntry),
            'isp.item_id = i.id',
            array()
            );

        $select->joinInner(
            array('sp' => $db->ExhibitPage),
            'sp.id = isp.page_id',
            array()
            );

        $select->joinInner(
            array('s' => $db->ExhibitSection),
            's.id = sp.section_id',
            array()
            );

        $select->joinInner(
            array('e' => $db->Exhibit),
            'e.id = s.exhibit_id',
            array()
            );

        if ($exhibit instanceof Exhibit) {
            $select->where('e.id = ?', $exhibit->id);
        } elseif (is_numeric($exhibit)) {
            $select->where('e.id = ?', $exhibit);
        }
    }

    return $select;
}
